<%- include('partials/header', { title: 'Home' }) %>

<section class="hero d-flex align-items-center justify-content-center text-center text-white vh-100" style="background: linear-gradient(rgba(24, 24, 24, 0.7), rgba(24, 24, 24, 0.7)), url('/images/hero-bg.jpg') center/cover no-repeat; margin-top: -70px; /* Offset navbar height */">
  <div class="hero-content">
    <h1 class="display-3 fw-bold mb-3 animate__animated animate__fadeInDown" style="color: var(--bs-primary);">Welcome to NASCON 2025</h1>
    <p class="lead mb-4 animate__animated animate__fadeInUp">Join us in Islamabad for an extraordinary tech conference experience.</p>
    <div class="cta-buttons animate__animated animate__fadeInUp animate__delay-1s">
      <a href="/register" class="btn btn-primary btn-lg me-2">Register Now <i class="fas fa-user-plus ms-1"></i></a>
      <a href="/events" class="btn btn-outline-primary btn-lg">View Events <i class="fas fa-calendar-alt ms-1"></i></a>
    </div>
  </div>
</section>

<section class="featured-events py-5" style="background-color: var(--bs-light-bg);"> <div class="container">
    <h2 class="text-center mb-5 fw-bold" style="color: var(--bs-primary);">Featured Events</h2>
    <div class="row g-4" id="featuredEventsGrid">
      <div class="col-lg-4 col-md-6">
        <div class="card h-100 shadow-sm event-card-hover">
          <img src="/images/default-event.jpg" class="card-img-top" alt="Event Image" style="height: 200px; object-fit: cover;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Example Event</h5>
            <p class="card-text text-muted small flex-grow-1">Brief description of the featured event goes here. Highlighting key aspects.</p>
            <div class="d-flex justify-content-between align-items-center mt-3">
                <span class="text-muted small"><i class="fas fa-calendar-alt me-1"></i> Date</span>
                <a href="#" class="btn btn-sm btn-outline-primary">Details <i class="fas fa-arrow-right ms-1"></i></a>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4 col-md-6">
        <div class="card h-100 shadow-sm event-card-hover">
          <img src="/images/default-event-2.jpg" class="card-img-top" alt="Event Image 2" style="height: 200px; object-fit: cover;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Another Competition</h5>
            <p class="card-text text-muted small flex-grow-1">Details about another exciting competition or workshop.</p>
             <div class="d-flex justify-content-between align-items-center mt-3">
                <span class="text-muted small"><i class="fas fa-calendar-alt me-1"></i> Date</span>
                <a href="#" class="btn btn-sm btn-outline-primary">Details <i class="fas fa-arrow-right ms-1"></i></a>
            </div>
          </div>
        </div>
      </div>
       <div class="col-lg-4 col-md-6">
        <div class="card h-100 shadow-sm event-card-hover">
          <img src="/images/default-event-3.jpg" class="card-img-top" alt="Event Image 3" style="height: 200px; object-fit: cover;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Workshop Session</h5>
            <p class="card-text text-muted small flex-grow-1">Information about an upcoming workshop session.</p>
             <div class="d-flex justify-content-between align-items-center mt-3">
                <span class="text-muted small"><i class="fas fa-calendar-alt me-1"></i> Date</span>
                <a href="#" class="btn btn-sm btn-outline-primary">Details <i class="fas fa-arrow-right ms-1"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="schedule-preview py-5">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="fw-bold mb-0">Upcoming Schedule</h2>
      <a href="/schedule" class="btn btn-sm btn-outline-primary">View Full Schedule <i class="fas fa-arrow-right ms-1"></i></a>
    </div>

    <div class="schedule-timeline">
      <% if (typeof schedule === 'undefined' || Object.keys(schedule).length === 0) { %>
        <div class="alert alert-secondary text-center" role="alert">
          <i class="fas fa-calendar-times fa-2x mb-3"></i>
          <p class="mb-0">No upcoming events scheduled yet. Check back soon!</p>
        </div>
      <% } else { %>
        <%
        const previewDates = Object.keys(schedule).sort((a, b) => new Date(a) - new Date(b)).slice(0, 3); // Sort and take first 3
        previewDates.forEach(date => {
          const formattedDate = new Date(date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
        %>
          <div class="schedule-day mb-4">
            <h4 class="mb-3 pb-2 border-bottom border-secondary"><%= formattedDate %></h4>
            <div class="list-group">
              <% schedule[date].slice(0, 3).forEach(event => { %>
                <a href="/events/<%= event.EventID %>" class="list-group-item list-group-item-action flex-column align-items-start bg-transparent border-secondary text-light schedule-item-hover">
                  <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1 text-primary"><%= event.EventName %></h5>
                    <small class="text-muted"><i class="far fa-clock me-1"></i> <%= event.Time ? new Date('1970-01-01T' + event.Time).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }) : 'TBA' %></small>
                  </div>
                  <p class="mb-1 small text-muted"><i class="fas fa-map-marker-alt me-1"></i> <%= event.VenueName ? `${event.VenueName} - ${event.Location}` : 'Venue TBA' %></p>
                </a>
              <% }); %>
              <% if (schedule[date].length > 3) { %>
                <a href="/schedule" class="list-group-item list-group-item-action text-center text-primary schedule-item-hover">
                  +<%= schedule[date].length - 3 %> more events on this day...
                </a>
              <% } %>
            </div>
          </div>
        <% }); %>
      <% } %>
    </div>
  </div>
</section>

<section class="about py-5" style="background-color: var(--bs-light-bg);">
  <div class="container text-center">
    <h2 class="mb-4 fw-bold" style="color: var(--bs-primary);">About NASCON</h2>
    <p class="lead mb-4 mx-auto" style="max-width: 700px;">NASCON is the premier National Student Convention hosted at FAST NUCES, Islamabad. We bring together bright minds, industry leaders, and tech enthusiasts for exciting competitions, insightful workshops, and invaluable networking opportunities.</p>
    <a href="/about" class="btn btn-outline-primary">Learn More About Us</a>
  </div>
</section>

<section class="sponsors py-5">
  <div class="container">
    <h2 class="text-center mb-5 fw-bold">Our Sponsors</h2>
    <div class="row g-4 justify-content-center" id="sponsorsGrid">
      <div class="col-6 col-md-4 col-lg-2 text-center">
         <img src="/images/default-sponsor.png" alt="Sponsor 1" class="img-fluid sponsor-logo" style="max-height: 80px; filter: grayscale(50%) brightness(1.5); transition: filter 0.3s ease;">
       </div>
       <div class="col-6 col-md-4 col-lg-2 text-center">
         <img src="/images/default-sponsor.png" alt="Sponsor 2" class="img-fluid sponsor-logo" style="max-height: 80px; filter: grayscale(50%) brightness(1.5); transition: filter 0.3s ease;">
       </div>
       <div class="col-6 col-md-4 col-lg-2 text-center">
         <img src="/images/default-sponsor.png" alt="Sponsor 3" class="img-fluid sponsor-logo" style="max-height: 80px; filter: grayscale(50%) brightness(1.5); transition: filter 0.3s ease;">
       </div>
       </div>
  </div>
</section>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<style>
  .event-card-hover {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .event-card-hover:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2) !important;
  }
  .schedule-item-hover {
     transition: background-color 0.3s ease, border-color 0.3s ease;
  }
   .schedule-item-hover:hover {
     background-color: rgba(var(--bs-primary-rgb), 0.1) !important;
     border-color: rgba(var(--bs-primary-rgb), 0.3) !important;
   }
   .sponsor-logo:hover {
       filter: grayscale(0%) brightness(1) !important;
   }
</style>

<script>
    // Placeholder for JS to load featured events and sponsors dynamically if needed
    // Example:
    // async function loadFeaturedEvents() {
    //     const grid = document.getElementById('featuredEventsGrid');
    //     // Fetch data and populate grid.innerHTML
    // }
    // async function loadSponsors() {
    //     const grid = document.getElementById('sponsorsGrid');
    //     // Fetch data and populate grid.innerHTML
    // }
    // document.addEventListener('DOMContentLoaded', () => {
    //     loadFeaturedEvents();
    //     loadSponsors();
    // });
</script>

<%- include('partials/footer') %>
